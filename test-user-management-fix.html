<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¨æˆ·ç®¡ç†JavaScripté”™è¯¯ä¿®å¤éªŒè¯ - æ¡‘æ¢“</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #4a5568;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            background: #f7fafc;
        }
        
        .test-title {
            font-size: 18px;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 15px;
        }
        
        .test-result {
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            font-family: monospace;
            font-size: 14px;
        }
        
        .success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }
        
        .info {
            background: #bee3f8;
            color: #2c5282;
            border: 1px solid #90cdf4;
        }
        
        .warning {
            background: #fefcbf;
            color: #744210;
            border: 1px solid #f6e05e;
        }
        
        .error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #fc8181;
        }
        
        .btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn:hover {
            background: #3182ce;
        }
        
        .btn.success {
            background: #28a745;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .feature-list li:before {
            content: "âœ“ ";
            color: #28a745;
            font-weight: bold;
        }
        
        .error-list li:before {
            content: "âœ— ";
            color: #dc3545;
            font-weight: bold;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
        }
        
        .before-after {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .before, .after {
            padding: 15px;
            border-radius: 8px;
        }
        
        .before {
            background: #fed7d7;
            border: 1px solid #fc8181;
        }
        
        .after {
            background: #c6f6d5;
            border: 1px solid #9ae6b4;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç”¨æˆ·ç®¡ç†JavaScripté”™è¯¯ä¿®å¤éªŒè¯</h1>
        
        <div class="test-section">
            <div class="test-title">é”™è¯¯é—®é¢˜æè¿°</div>
            <div class="test-result error">
                <strong>åŸå§‹é”™è¯¯ä¿¡æ¯ï¼š</strong><br>
                TypeError: Cannot read properties of null (reading 'scrollIntoView')<br>
                at UserManagement.selectUser (user-management.html:731:76)<br>
                at HTMLButtonElement.onclick (user-management.html:1042:17)
            </div>
            
            <div class="test-result info">
                <strong>é”™è¯¯åŸå› åˆ†æï¼š</strong><br>
                â€¢ é”™è¯¯å‘ç”Ÿåœ¨selectUseræ–¹æ³•çš„scrollIntoView()è°ƒç”¨<br>
                â€¢ é€‰æ‹©å™¨'.control-section:nth-child(2)'è¿”å›null<br>
                â€¢ åŸå› ï¼šå¸ƒå±€ä¼˜åŒ–åHTMLç»“æ„æ”¹å˜ï¼Œé€‰æ‹©å™¨å¤±æ•ˆ<br>
                â€¢ ç¼ºå°‘nullæ£€æŸ¥ï¼Œå¯¼è‡´å¯¹nullå¯¹è±¡è°ƒç”¨æ–¹æ³•
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">ä¿®å¤æ–¹æ¡ˆ</div>
            <div class="before-after">
                <div class="before">
                    <h4>ä¿®å¤å‰ä»£ç </h4>
                    <div class="code-block">
// é—®é¢˜ä»£ç 
document.querySelector('.control-section:nth-child(2)')
    .scrollIntoView({
        behavior: 'smooth',
        block: 'start'
    });
                    </div>
                    <ul class="feature-list error-list">
                        <li>ä½¿ç”¨è¿‡æ—¶çš„é€‰æ‹©å™¨</li>
                        <li>æ²¡æœ‰nullæ£€æŸ¥</li>
                        <li>æ²¡æœ‰é”™è¯¯å¤„ç†</li>
                        <li>æ²¡æœ‰å¤‡ç”¨æ–¹æ¡ˆ</li>
                    </ul>
                </div>
                <div class="after">
                    <h4>ä¿®å¤åä»£ç </h4>
                    <div class="code-block">
// ä¿®å¤åä»£ç 
let editPanel = null;

// æ–¹æ³•1ï¼šä½¿ç”¨æ–°çš„é€‰æ‹©å™¨
editPanel = document.querySelector(
    '.controls-grid .controls-panel:nth-child(2)'
);

// æ–¹æ³•2ï¼šæŸ¥æ‰¾åŒ…å«selectedUserçš„é¢æ¿
if (!editPanel) {
    const selectedUserElement = 
        document.getElementById('selectedUser');
    if (selectedUserElement) {
        editPanel = selectedUserElement
            .closest('.controls-panel');
    }
}

// æ–¹æ³•3ï¼šæŸ¥æ‰¾åŒ…å«"ç¼–è¾‘ç”¨æˆ·"æ ‡é¢˜çš„é¢æ¿
if (!editPanel) {
    const editTitles = document
        .querySelectorAll('h2.section-title');
    for (const title of editTitles) {
        if (title.textContent.includes('ç¼–è¾‘ç”¨æˆ·')) {
            editPanel = title.closest('.controls-panel');
            break;
        }
    }
}

// å®‰å…¨è°ƒç”¨scrollIntoView
if (editPanel) {
    editPanel.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
    });
} else {
    console.warn('æ— æ³•æ‰¾åˆ°ç¼–è¾‘ç”¨æˆ·é¢æ¿');
}
                    </div>
                    <ul class="feature-list">
                        <li>ä½¿ç”¨æ­£ç¡®çš„é€‰æ‹©å™¨</li>
                        <li>å¤šé‡å¤‡ç”¨æ–¹æ¡ˆ</li>
                        <li>å®Œæ•´çš„nullæ£€æŸ¥</li>
                        <li>è¯¦ç»†çš„é”™è¯¯æ—¥å¿—</li>
                        <li>é˜²å¾¡æ€§ç¼–ç¨‹</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">ä¿®å¤å†…å®¹è¯¦ç»†è¯´æ˜</div>
            <ul class="feature-list">
                <li><strong>é€‰æ‹©å™¨æ›´æ–°ï¼š</strong>ä»'.control-section:nth-child(2)'æ”¹ä¸º'.controls-grid .controls-panel:nth-child(2)'</li>
                <li><strong>å¤šé‡å¤‡ç”¨æ–¹æ¡ˆï¼š</strong>æä¾›3ç§ä¸åŒçš„å…ƒç´ æŸ¥æ‰¾æ–¹æ³•</li>
                <li><strong>nullæ£€æŸ¥ï¼š</strong>åœ¨è°ƒç”¨scrollIntoViewå‰æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</li>
                <li><strong>é”™è¯¯å¤„ç†ï¼š</strong>æ·»åŠ try-catchå—å’Œè¯¦ç»†çš„é”™è¯¯æ—¥å¿—</li>
                <li><strong>ç”¨æˆ·åé¦ˆï¼š</strong>åœ¨å‡ºé”™æ—¶æä¾›æ¸…æ™°çš„æç¤ºä¿¡æ¯</li>
                <li><strong>å…¼å®¹æ€§ï¼š</strong>é¿å…ä½¿ç”¨ä¸å…¼å®¹çš„CSSé€‰æ‹©å™¨ï¼ˆå¦‚:has()ï¼‰</li>
                <li><strong>è°ƒè¯•ä¿¡æ¯ï¼š</strong>æ·»åŠ console.logå¸®åŠ©è°ƒè¯•å’Œç›‘æ§</li>
            </ul>
        </div>
        
        <div class="test-section">
            <div class="test-title">ä¸‰ç§å…ƒç´ æŸ¥æ‰¾æ–¹æ³•</div>
            <div class="test-result success">
                <strong>æ–¹æ³•1ï¼šç»“æ„åŒ–é€‰æ‹©å™¨</strong><br>
                .controls-grid .controls-panel:nth-child(2)<br>
                â€¢ åŸºäºæ–°çš„HTMLç»“æ„æŸ¥æ‰¾ç¬¬äºŒä¸ªæ§åˆ¶é¢æ¿<br><br>
                
                <strong>æ–¹æ³•2ï¼šå…³è”å…ƒç´ æŸ¥æ‰¾</strong><br>
                document.getElementById('selectedUser').closest('.controls-panel')<br>
                â€¢ é€šè¿‡selectedUserå…ƒç´ å‘ä¸ŠæŸ¥æ‰¾æ‰€å±çš„æ§åˆ¶é¢æ¿<br><br>
                
                <strong>æ–¹æ³•3ï¼šå†…å®¹åŒ¹é…æŸ¥æ‰¾</strong><br>
                æŸ¥æ‰¾åŒ…å«"ç¼–è¾‘ç”¨æˆ·"æ–‡æœ¬çš„æ ‡é¢˜ï¼Œç„¶åæ‰¾åˆ°æ‰€å±é¢æ¿<br>
                â€¢ æœ€çµæ´»çš„æ–¹æ³•ï¼Œä¸ä¾èµ–ç‰¹å®šçš„HTMLç»“æ„
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">éªŒè¯æ­¥éª¤</div>
            <div class="test-result warning">
                <strong>è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤éªŒè¯ä¿®å¤æ•ˆæœï¼š</strong><br><br>
                
                <strong>1. åŸºæœ¬åŠŸèƒ½éªŒè¯ï¼š</strong><br>
                â€¢ ä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•ç³»ç»Ÿ<br>
                â€¢ è®¿é—®ç”¨æˆ·ç®¡ç†é¡µé¢<br>
                â€¢ ç‚¹å‡»ä»»æ„ç”¨æˆ·å³ä¾§çš„"ç¼–è¾‘"æŒ‰é’®<br>
                â€¢ ç¡®è®¤ä¸å†å‡ºç°JavaScripté”™è¯¯<br><br>
                
                <strong>2. æ»šåŠ¨åŠŸèƒ½éªŒè¯ï¼š</strong><br>
                â€¢ ç¡®è®¤ç‚¹å‡»ç¼–è¾‘æŒ‰é’®åé¡µé¢æ»šåŠ¨åˆ°ç¼–è¾‘ç”¨æˆ·å¡ç‰‡<br>
                â€¢ éªŒè¯æ»šåŠ¨åŠ¨ç”»å¹³æ»‘è‡ªç„¶<br>
                â€¢ ç¡®è®¤ç¼–è¾‘è¡¨å•æ­£ç¡®å¡«å……ç”¨æˆ·ä¿¡æ¯<br><br>
                
                <strong>3. æ§åˆ¶å°æ£€æŸ¥ï¼š</strong><br>
                â€¢ æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·<br>
                â€¢ æŸ¥çœ‹Consoleæ ‡ç­¾é¡µ<br>
                â€¢ ç¡®è®¤æ²¡æœ‰JavaScripté”™è¯¯<br>
                â€¢ æŸ¥çœ‹ä¿®å¤åçš„è°ƒè¯•ä¿¡æ¯<br><br>
                
                <strong>4. å¤šç”¨æˆ·æµ‹è¯•ï¼š</strong><br>
                â€¢ æµ‹è¯•ç¼–è¾‘ä¸åŒè§’è‰²çš„ç”¨æˆ·<br>
                â€¢ éªŒè¯æ‰€æœ‰ç¼–è¾‘åŠŸèƒ½æ­£å¸¸å·¥ä½œ<br>
                â€¢ ç¡®è®¤è¡¨å•æ•°æ®æ­£ç¡®æ˜¾ç¤ºå’Œä¿å­˜
            </div>
            
            <div style="margin-top: 15px;">
                <a href="user-management.html" class="btn success">ğŸ”— æµ‹è¯•ä¿®å¤åçš„ç”¨æˆ·ç®¡ç†é¡µé¢</a>
                <a href="index.html" class="btn">ğŸ”— è¿”å›é¦–é¡µ</a>
            </div>
        </div>
        
        <div class="test-section">
            <div class="test-title">æŠ€æœ¯æ”¹è¿›æ€»ç»“</div>
            <ul class="feature-list">
                <li><strong>é˜²å¾¡æ€§ç¼–ç¨‹ï¼š</strong>æ·»åŠ å®Œæ•´çš„nullæ£€æŸ¥å’Œé”™è¯¯å¤„ç†</li>
                <li><strong>å¤šé‡å¤‡ç”¨æ–¹æ¡ˆï¼š</strong>æä¾›3ç§ä¸åŒçš„å…ƒç´ æŸ¥æ‰¾æ–¹æ³•</li>
                <li><strong>å…¼å®¹æ€§æ”¹è¿›ï¼š</strong>ä½¿ç”¨å¹¿æ³›æ”¯æŒçš„DOMæ–¹æ³•</li>
                <li><strong>è°ƒè¯•å‹å¥½ï¼š</strong>æ·»åŠ è¯¦ç»†çš„consoleæ—¥å¿—</li>
                <li><strong>ç”¨æˆ·ä½“éªŒï¼š</strong>é”™è¯¯æ—¶æä¾›æ¸…æ™°çš„åé¦ˆ</li>
                <li><strong>ä»£ç å¥å£®æ€§ï¼š</strong>èƒ½å¤Ÿé€‚åº”HTMLç»“æ„å˜åŒ–</li>
            </ul>
        </div>
        
        <div class="test-section">
            <div class="test-title">é¢„æœŸä¿®å¤æ•ˆæœ</div>
            <div class="test-result success">
                <strong>ä¿®å¤åçš„é¢„æœŸæ•ˆæœï¼š</strong><br>
                âœ“ ç‚¹å‡»ç¼–è¾‘æŒ‰é’®ä¸å†äº§ç”ŸJavaScripté”™è¯¯<br>
                âœ“ ç¼–è¾‘ç”¨æˆ·å¡ç‰‡èƒ½å¤Ÿæ­£ç¡®æ˜¾ç¤ºå’Œæ»šåŠ¨<br>
                âœ“ ç”¨æˆ·ä¿¡æ¯æ­£ç¡®å¡«å……åˆ°ç¼–è¾‘è¡¨å•<br>
                âœ“ æ»šåŠ¨åŠ¨ç”»å¹³æ»‘è‡ªç„¶<br>
                âœ“ æ§åˆ¶å°æ˜¾ç¤ºæ¸…æ™°çš„è°ƒè¯•ä¿¡æ¯<br>
                âœ“ åœ¨GitHub Pagesç¯å¢ƒä¸‹ç¨³å®šå·¥ä½œ<br>
                âœ“ å…·å¤‡è‰¯å¥½çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
            </div>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ç”¨æˆ·ç®¡ç†JavaScripté”™è¯¯ä¿®å¤éªŒè¯é¡µé¢åŠ è½½å®Œæˆ');
            
            // æ£€æŸ¥å½“å‰URL
            const currentUrl = window.location.href;
            console.log('å½“å‰URL:', currentUrl);
            
            if (currentUrl.includes('github.io')) {
                console.log('âœ… åœ¨GitHub Pagesç¯å¢ƒä¸­è¿è¡Œ');
            } else {
                console.log('â„¹ï¸ åœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œ');
            }
        });
    </script>
</body>
</html>
